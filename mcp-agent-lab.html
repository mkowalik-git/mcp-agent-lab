<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP Agent Lab - Oracle Database 23ai</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1d252c 0%, #2a3642 50%, #1d252c 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .lab-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .lab-header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(20, 66, 158, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(20, 66, 158, 0.3);
        }

        .lab-title {
            font-size: 2.8em;
            background: linear-gradient(45deg, #eb5046, #14429e, #008060);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            animation: gradientShift 3s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { filter: hue-rotate(0deg); }
            50% { filter: hue-rotate(10deg); }
        }

        .lab-subtitle {
            font-size: 1.2em;
            color: #e6e7e8;
            margin-bottom: 15px;
        }

        .concept-intro {
            background: rgba(20, 66, 158, 0.15);
            border-left: 4px solid #14429e;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            line-height: 1.8;
        }

        .concept-intro h3 {
            color: #eb5046;
            margin-bottom: 10px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .comparison-card {
            background: rgba(245, 246, 247, 0.05);
            border-radius: 12px;
            padding: 25px;
            border: 2px solid rgba(230, 231, 232, 0.1);
            transition: all 0.3s ease;
        }

        .comparison-card:hover {
            transform: translateY(-5px);
            border-color: #14429e;
            box-shadow: 0 10px 30px rgba(20, 66, 158, 0.3);
        }

        .comparison-card h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #14429e, #008060);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .comparison-card ul {
            list-style: none;
            padding: 0;
        }

        .comparison-card li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: #e6e7e8;
        }

        .comparison-card li:before {
            content: "→";
            position: absolute;
            left: 0;
            color: #eb5046;
            font-weight: bold;
        }

        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .step-card {
            background: rgba(245, 246, 247, 0.05);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(230, 231, 232, 0.15);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .step-card:hover {
            transform: translateY(-5px);
            border-color: #14429e;
            box-shadow: 0 10px 30px rgba(20, 66, 158, 0.3);
        }

        .step-card.active {
            border-color: #b65226;
            background: rgba(182, 82, 38, 0.1);
        }

        .step-card.completed {
            border-color: #008060;
            background: rgba(0, 128, 96, 0.1);
        }

        .step-number {
            position: absolute;
            top: 10px;
            right: 15px;
            background: linear-gradient(45deg, #14429e, #008060);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            color: #fff;
        }

        .step-title {
            font-size: 1.3em;
            margin-bottom: 10px;
            color: #eb5046;
        }

        .step-description {
            color: #e6e7e8;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .step-progress {
            width: 100%;
            height: 4px;
            background: rgba(230, 231, 232, 0.2);
            border-radius: 2px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #14429e, #008060);
            width: 0%;
            transition: width 1s ease;
        }

        .terminal {
            background: #1d252c;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: #00cfc9;
            margin: 15px 0;
            border: 1px solid #2a3642;
            max-height: 250px;
            overflow-y: auto;
        }

        .terminal-line {
            margin: 5px 0;
        }

        .terminal-line.info { color: #00cfc9; }
        .terminal-line.success { color: #008060; }
        .terminal-line.warning { color: #f7c322; }

        .action-button {
            background: linear-gradient(45deg, #14429e, #008060);
            color: #fff;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
            margin-top: 10px;
        }

        .action-button:hover {
            transform: scale(1.05);
        }

        .action-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .mcp-diagram {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }

        .mcp-flow {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .mcp-node {
            background: rgba(20, 66, 158, 0.2);
            border: 2px solid #14429e;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            min-width: 150px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 10px rgba(20, 66, 158, 0.5); }
            50% { box-shadow: 0 0 20px rgba(20, 66, 158, 0.8); }
        }

        .mcp-arrow {
            color: #b65226;
            font-size: 2em;
            animation: slideRight 1.5s ease-in-out infinite;
        }

        @keyframes slideRight {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }

        .agent-demo {
            background: rgba(245, 246, 247, 0.03);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(230, 231, 232, 0.1);
            display: none;
        }

        .demo-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .demo-header h2 {
            color: #eb5046;
            margin-bottom: 10px;
        }

        .demo-workspace {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .demo-panel {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
        }

        .demo-panel h3 {
            color: #b65226;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .agent-message {
            background: rgba(20, 66, 158, 0.15);
            border-left: 3px solid #14429e;
            padding: 12px;
            margin: 10px 0;
            border-radius: 5px;
            font-size: 14px;
            animation: fadeInUp 0.5s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .db-query {
            background: #1d252c;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            color: #00cfc9;
            margin: 10px 0;
            font-size: 12px;
        }

        .flight-card {
            background: rgba(182, 82, 38, 0.1);
            border: 1px solid #b65226;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .flight-card h4 {
            color: #b65226;
            margin-bottom: 8px;
        }

        .flight-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            font-size: 13px;
        }

        .demo-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .demo-button {
            background: linear-gradient(45deg, #14429e, #008060);
            color: #fff;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .demo-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(20, 66, 158, 0.4);
        }

        .a2a-demo {
            background: rgba(0, 128, 96, 0.1);
            border: 2px dashed #008060;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }

        .a2a-agents {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .agent-box {
            background: rgba(245, 246, 247, 0.05);
            border: 2px solid #14429e;
            border-radius: 10px;
            padding: 15px;
            min-width: 200px;
            text-align: center;
        }

        .agent-box h4 {
            color: #b65226;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .comparison-grid,
            .demo-workspace {
                grid-template-columns: 1fr;
            }
            
            .lab-title {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="lab-container">
        <div class="lab-header">
            <h1 class="lab-title">AI Agents & MCP Laboratory</h1>
            <p class="lab-subtitle">Model Context Protocol with Oracle Database 23ai & SQLcl</p>
            <div class="concept-intro">
                <h3>What You'll Learn</h3>
                <p>Discover how AI Agents go beyond simple text generation to take real actions using the Model Context Protocol (MCP). You'll build a hands-on demo connecting AI agents to Oracle Database 23ai using SQLcl MCP, enabling intelligent database interactions, flight bookings, and agent-to-agent communication.</p>
            </div>
        </div>

        <div class="comparison-grid">
            <div class="comparison-card">
                <h3>Large Language Models (LLMs)</h3>
                <ul>
                    <li>Generate text responses only</li>
                    <li>Cannot take actions or execute tasks</li>
                    <li>No access to external systems</li>
                    <li>Stateless conversations</li>
                    <li>Example: "Tell me about flights"</li>
                </ul>
            </div>
            <div class="comparison-card">
                <h3>AI Agents</h3>
                <ul>
                    <li>Use LLMs as their "brain"</li>
                    <li>Execute actions via APIs and tools</li>
                    <li>Access databases, web services, APIs</li>
                    <li>Maintain memory and context</li>
                    <li>Example: "Book me a flight"</li>
                </ul>
            </div>
        </div>

        <div class="concept-intro">
            <h3>The Challenge: Integration Complexity</h3>
            <p>Every API has different formats, authentication methods, and data structures. Without a standard, agents need custom code for each integration - flight booking API works differently from hotel booking, which works differently from database queries. This creates a maintenance nightmare!</p>
        </div>

        <div class="concept-intro" style="border-left-color: #b65226; background: rgba(182, 82, 38, 0.1);">
            <h3>The Solution: Model Context Protocol (MCP)</h3>
            <p><strong>MCP is a universal standard</strong> that acts as a translator between AI agents and external tools. It provides:</p>
            <ul style="margin-top: 10px; margin-left: 20px;">
                <li style="margin: 8px 0;"><strong>Discovery:</strong> Agents automatically find available tools and capabilities</li>
                <li style="margin: 8px 0;"><strong>Standardization:</strong> Uniform way to describe inputs, outputs, and actions</li>
                <li style="margin: 8px 0;"><strong>Interoperability:</strong> One protocol for all integrations (databases, APIs, services)</li>
                <li style="margin: 8px 0;"><strong>Scalability:</strong> Add new tools without rewriting agent code</li>
            </ul>
        </div>

        <div class="steps-container">
            <div class="step-card" data-step="1">
                <div class="step-number">1</div>
                <h3 class="step-title">Setup MCP Environment</h3>
                <p class="step-description">Initialize the MCP client environment with required dependencies and configure the protocol for agent communications.</p>
                <div class="terminal" id="terminal-1" style="display: none;"></div>
                <button class="action-button" onclick="executeStep(1)">Initialize MCP</button>
                <div class="step-progress"><div class="progress-fill"></div></div>
            </div>

            <div class="step-card" data-step="2">
                <div class="step-number">2</div>
                <h3 class="step-title">Deploy Oracle Database 23ai</h3>
                <p class="step-description">Set up Oracle Database 23ai Free with SQLcl MCP server for intelligent database interactions and tool discovery.</p>
                <div class="terminal" id="terminal-2" style="display: none;"></div>
                <button class="action-button" onclick="executeStep(2)" disabled>Deploy Oracle 23ai</button>
                <div class="step-progress"><div class="progress-fill"></div></div>
            </div>

            <div class="step-card" data-step="3">
                <div class="step-number">3</div>
                <h3 class="step-title">Configure SQLcl MCP Server</h3>
                <p class="step-description">Set up SQLcl MCP server to expose Oracle Database capabilities through the Model Context Protocol interface.</p>
                <div class="terminal" id="terminal-3" style="display: none;"></div>
                <div class="mcp-diagram" id="mcp-diagram"></div>
                <button class="action-button" onclick="executeStep(3)" disabled>Configure SQLcl MCP</button>
                <div class="step-progress"><div class="progress-fill"></div></div>
            </div>

            <div class="step-card" data-step="4">
                <div class="step-number">4</div>
                <h3 class="step-title">Create Flight Booking Schema</h3>
                <p class="step-description">Design and deploy database schema in Oracle 23ai for storing flight information, bookings, and user data.</p>
                <div class="terminal" id="terminal-4" style="display: none;"></div>
                <button class="action-button" onclick="executeStep(4)" disabled>Create Schema</button>
                <div class="step-progress"><div class="progress-fill"></div></div>
            </div>

            <div class="step-card" data-step="5">
                <div class="step-number">5</div>
                <h3 class="step-title">Register MCP Tools</h3>
                <p class="step-description">Register database operations as MCP tools that agents can discover and use (search flights, book flights, query data).</p>
                <div class="terminal" id="terminal-5" style="display: none;"></div>
                <button class="action-button" onclick="executeStep(5)" disabled>Register Tools</button>
                <div class="step-progress"><div class="progress-fill"></div></div>
            </div>

            <div class="step-card" data-step="6">
                <div class="step-number">6</div>
                <h3 class="step-title">Test Agent Actions</h3>
                <p class="step-description">Verify that the AI agent can discover MCP tools, understand capabilities, and execute database operations through SQLcl.</p>
                <div class="terminal" id="terminal-6" style="display: none;"></div>
                <button class="action-button" onclick="executeStep(6)" disabled>Test Agent</button>
                <div class="step-progress"><div class="progress-fill"></div></div>
            </div>

            <div class="step-card" data-step="7">
                <div class="step-number">7</div>
                <h3 class="step-title">Enable Agent-to-Agent (A2A)</h3>
                <p class="step-description">Configure A2A protocol for multiple agents to collaborate, share tasks, and combine capabilities seamlessly.</p>
                <div class="terminal" id="terminal-7" style="display: none;"></div>
                <button class="action-button" onclick="executeStep(7)" disabled>Enable A2A</button>
                <div class="step-progress"><div class="progress-fill"></div></div>
            </div>

            <div class="step-card" data-step="8">
                <div class="step-number">8</div>
                <h3 class="step-title">Launch Interactive Demo</h3>
                <p class="step-description">Deploy the full agent system with Oracle Database 23ai backend for live flight booking demonstrations.</p>
                <div class="terminal" id="terminal-8" style="display: none;"></div>
                <button class="action-button" onclick="executeStep(8)" disabled>Launch Demo</button>
                <div class="step-progress"><div class="progress-fill"></div></div>
            </div>
        </div>

        <div class="agent-demo" id="agent-demo">
            <div class="demo-header">
                <h2>Flight Booking AI Agent Demo</h2>
                <p>Watch the AI agent use MCP to discover tools, search Oracle Database 23ai, and complete a booking!</p>
            </div>
            <div class="demo-workspace">
                <div class="demo-panel">
                    <h3>Agent Activity Log</h3>
                    <div id="agent-log"></div>
                </div>
                <div class="demo-panel">
                    <h3>Oracle Database 23ai (via SQLcl MCP)</h3>
                    <div id="db-log"></div>
                </div>
            </div>
            <div class="demo-controls">
                <button class="demo-button" onclick="runBookingDemo()">Run Booking Demo</button>
                <button class="demo-button" onclick="runA2ADemo()">Run A2A Collaboration</button>
                <button class="demo-button" onclick="resetDemo()">Reset Demo</button>
            </div>
        </div>

        <div class="a2a-demo" id="a2a-demo">
            <div class="demo-header">
                <h2>Agent-to-Agent (A2A) Collaboration</h2>
                <p>Watch multiple agents work together, discovering each other's capabilities and coordinating tasks!</p>
            </div>
            <div class="a2a-agents" id="a2a-agents"></div>
        </div>

        <div class="concept-intro" style="margin-top: 40px; border-left-color: #008060; background: rgba(0, 128, 96, 0.1);">
            <h3>Real-World Use Cases</h3>
            <p style="margin-bottom: 15px;"><strong>MCP + Oracle Database 23ai enables powerful agent workflows:</strong></p>
            <ul style="margin-left: 20px;">
                <li style="margin: 10px 0;"><strong>Development:</strong> GitHub Copilot agents debug code, query databases, and suggest fixes based on actual data</li>
                <li style="margin: 10px 0;"><strong>Finance:</strong> Agents integrate Stripe APIs with Oracle DB to troubleshoot payment issues and reconcile transactions</li>
                <li style="margin: 10px 0;"><strong>Customer Service:</strong> Agents access CRM data, order history, and support tickets to resolve issues autonomously</li>
                <li style="margin: 10px 0;"><strong>Data Analysis:</strong> SQLcl MCP allows agents to explore Oracle schemas, run queries, and generate insights</li>
                <li style="margin: 10px 0;"><strong>Enterprise Integration:</strong> Single MCP standard connects agents to ERP, databases, APIs, and cloud services</li>
            </ul>
        </div>
    </div>

    <script>
        let currentStep = 0;
        let completedSteps = new Set();

        const stepData = {
            1: {
                terminal: [
                    "$ npm install @modelcontextprotocol/sdk",
                    { text: "✓ Installing MCP SDK and dependencies...", class: "success" },
                    "$ pip install mcp anthropic",
                    { text: "✓ Setting up Python MCP client", class: "success" },
                    { text: "ℹ Configuring MCP protocol handlers", class: "info" },
                    { text: "✓ MCP environment ready!", class: "success" }
                ]
            },
            2: {
                terminal: [
                    "$ docker pull container-registry.oracle.com/database/free:latest",
                    { text: "✓ Pulling Oracle Database 23ai Free (4.5GB)", class: "info" },
                    "$ docker run -d --name oracle-23ai \\",
                    "  -p 1521:1521 -e ORACLE_PWD=Welcome123 \\",
                    "  container-registry.oracle.com/database/free:latest",
                    { text: "✓ Oracle Database 23ai container started", class: "success" },
                    { text: "✓ Database ready at localhost:1521/FREEPDB1", class: "success" },
                    { text: "ℹ AI Vector Search and JSON capabilities enabled", class: "info" }
                ]
            },
            3: {
                terminal: [
                    "$ sql admin/Welcome123@localhost:1521/FREEPDB1",
                    { text: "✓ Connected to Oracle Database 23ai", class: "success" },
                    "$ cd sqlcl-mcp-server",
                    "$ npm install",
                    { text: "✓ Installing SQLcl MCP server", class: "info" },
                    "$ node server.js --db oracle-23ai --port 3000",
                    { text: "✓ SQLcl MCP Server running on port 3000", class: "success" },
                    { text: "ℹ MCP tools exposed: query_database, execute_sql, get_schema", class: "info" },
                    { text: "✓ Ready for agent tool discovery!", class: "success" }
                ]
            },
            4: {
                terminal: [
                    "SQL> CREATE TABLE flights (",
                    "  flight_id NUMBER PRIMARY KEY,",
                    "  airline VARCHAR2(50),",
                    "  origin VARCHAR2(3),",
                    "  destination VARCHAR2(3),",
                    "  departure_time TIMESTAMP,",
                    "  price NUMBER(8,2)",
                    ");",
                    { text: "✓ Flights table created", class: "success" },
                    "SQL> CREATE TABLE bookings (",
                    "  booking_id NUMBER PRIMARY KEY,",
                    "  flight_id NUMBER REFERENCES flights(flight_id),",
                    "  passenger_name VARCHAR2(100),",
                    "  booking_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
                    ");",
                    { text: "✓ Bookings table created", class: "success" },
                    "SQL> INSERT INTO flights VALUES (101, 'Oracle Air', 'SFO', 'JFK', SYSTIMESTAMP, 450.00);",
                    { text: "✓ Sample flight data loaded", class: "success" }
                ]
            },
            5: {
                terminal: [
                    "$ mcp-tool register search_flights",
                    { text: "ℹ Registering tool with MCP protocol...", class: "info" },
                    "  Description: Search available flights in Oracle Database",
                    "  Parameters: origin, destination, date",
                    "  Output: JSON array of matching flights",
                    { text: "✓ Tool 'search_flights' registered", class: "success" },
                    "$ mcp-tool register book_flight",
                    { text: "ℹ Registering booking tool...", class: "info" },
                    "  Description: Book a flight and store in Oracle DB",
                    "  Parameters: flight_id, passenger_name",
                    { text: "✓ Tool 'book_flight' registered", class: "success" },
                    { text: "✓ All MCP tools available for agent discovery", class: "success" }
                ]
            },
            6: {
                terminal: [
                    "$ python test_agent.py",
                    { text: "Agent: Discovering available MCP tools...", class: "info" },
                    { text: "✓ Found tool: search_flights (query Oracle DB)", class: "success" },
                    { text: "✓ Found tool: book_flight (insert into DB)", class: "success" },
                    { text: "Agent: Calling search_flights(origin='SFO', dest='JFK')", class: "info" },
                    { text: "Oracle DB: Executing via SQLcl MCP...", class: "info" },
                    { text: "✓ Found 3 flights matching criteria", class: "success" },
                    { text: "Agent: Successfully retrieved flight data!", class: "success" },
                    { text: "✓ Agent can interact with Oracle Database via MCP", class: "success" }
                ]
            },
            7: {
                terminal: [
                    "$ python setup_a2a.py",
                    { text: "ℹ Configuring Agent-to-Agent protocol...", class: "info" },
                    { text: "✓ Flight Agent registered (search, book)", class: "success" },
                    { text: "✓ Hotel Agent registered (search, reserve)", class: "success" },
                    { text: "✓ Payment Agent registered (process, verify)", class: "success" },
                    { text: "ℹ Agents can now discover each other", class: "info" },
                    { text: "✓ A2A protocol ready for collaboration", class: "success" },
                    { text: "Agents can delegate tasks and share context", class: "info" }
                ]
            },
            8: {
                terminal: [
                    "$ python launch_demo.py",
                    { text: "✓ Starting Flask application", class: "success" },
                    { text: "✓ Connecting to Oracle Database 23ai via SQLcl MCP", class: "success" },
                    { text: "✓ Loading AI agent with MCP tools", class: "success" },
                    { text: "✓ A2A protocol initialized", class: "success" },
                    { text: "Demo running at http://localhost:5000", class: "info" },
                    { text: "✓ AI Agent + Oracle 23ai + MCP ready!", class: "success" }
                ]
            }
        };

        function executeStep(step) {
            if (step <= currentStep + 1) {
                currentStep = Math.max(currentStep, step);
                completedSteps.add(step);
                
                const card = document.querySelector(`[data-step="${step}"]`);
                const terminal = document.getElementById(`terminal-${step}`);
                const progress = card.querySelector('.progress-fill');
                
                card.classList.add('active');
                terminal.style.display = 'block';
                
                const lines = stepData[step].terminal;
                let delay = 0;
                
                lines.forEach((line, index) => {
                    setTimeout(() => {
                        const terminalLine = document.createElement('div');
                        terminalLine.className = 'terminal-line';
                        
                        if (typeof line === 'object') {
                            terminalLine.textContent = line.text;
                            terminalLine.classList.add(line.class);
                        } else {
                            terminalLine.textContent = line;
                        }
                        
                        terminal.appendChild(terminalLine);
                        terminal.scrollTop = terminal.scrollHeight;
                    }, delay);
                    
                    delay += 600;
                });
                
                setTimeout(() => {
                    progress.style.width = '100%';
                }, delay);
                
                setTimeout(() => {
                    card.classList.remove('active');
                    card.classList.add('completed');
                    
                    if (step < 8) {
                        const nextButton = document.querySelector(`[data-step="${step + 1}"] .action-button`);
                        nextButton.disabled = false;
                    }
                    
                    if (step === 3) {
                        showMCPDiagram();
                    } else if (step === 8) {
                        showAgentDemo();
                    }
                }, delay + 1000);
            }
        }

        function showMCPDiagram() {
            const diagram = document.getElementById('mcp-diagram');
            diagram.style.display = 'block';
            diagram.innerHTML = `
                <div class="mcp-flow">
                    <div class="mcp-node">
                        <div style="font-size: 2em; margin-bottom: 10px;">🤖</div>
                        <strong>AI Agent</strong>
                        <div style="font-size: 11px; margin-top: 5px;">Discovers Tools</div>
                    </div>
                    <div class="mcp-arrow">⟹</div>
                    <div class="mcp-node">
                        <div style="font-size: 2em; margin-bottom: 10px;">🔌</div>
                        <strong>MCP Protocol</strong>
                        <div style="font-size: 11px; margin-top: 5px;">Universal Interface</div>
                    </div>
                    <div class="mcp-arrow">⟹</div>
                    <div class="mcp-node">
                        <div style="font-size: 2em; margin-bottom: 10px;">🗄️</div>
                        <strong>SQLcl MCP</strong>
                        <div style="font-size: 11px; margin-top: 5px;">Oracle 23ai</div>
                    </div>
                </div>
            `;
        }

        function showAgentDemo() {
            setTimeout(() => {
                document.getElementById('agent-demo').style.display = 'block';
                document.getElementById('agent-demo').scrollIntoView({ behavior: 'smooth' });
            }, 500);
        }

        function addAgentMessage(text, delay = 0) {
            setTimeout(() => {
                const log = document.getElementById('agent-log');
                const msg = document.createElement('div');
                msg.className = 'agent-message';
                msg.textContent = text;
                log.appendChild(msg);
                log.scrollTop = log.scrollHeight;
            }, delay);
        }

        function addDBMessage(content, delay = 0) {
            setTimeout(() => {
                const log = document.getElementById('db-log');
                const msg = document.createElement('div');
                
                if (typeof content === 'object') {
                    msg.className = 'flight-card';
                    msg.innerHTML = `
                        <h4>${content.title}</h4>
                        <div class="flight-details">
                            ${Object.entries(content.details).map(([key, value]) => 
                                `<div><strong>${key}:</strong> ${value}</div>`
                            ).join('')}
                        </div>
                    `;
                } else {
                    msg.className = 'db-query';
                    msg.textContent = content;
                }
                
                log.appendChild(msg);
                log.scrollTop = log.scrollHeight;
            }, delay);
        }

        function runBookingDemo() {
            document.getElementById('agent-log').innerHTML = '';
            document.getElementById('db-log').innerHTML = '';
            
            addAgentMessage('Initializing AI Agent with MCP client...', 0);
            addAgentMessage('Discovering available MCP tools via protocol...', 1000);
            addAgentMessage('✓ Discovered tool: search_flights (Oracle DB via SQLcl)', 2000);
            addAgentMessage('✓ Discovered tool: book_flight (Oracle DB via SQLcl)', 2500);
            addAgentMessage('User asked: "Find flights from SFO to NYC tomorrow"', 3500);
            addAgentMessage('Calling MCP tool: search_flights(origin="SFO", dest="JFK", date="2025-09-30")', 4500);
            
            addDBMessage('SELECT * FROM flights WHERE origin = \'SFO\' AND destination = \'JFK\' AND departure_time >= SYSTIMESTAMP', 5000);
            addDBMessage({
                title: 'Flight 101 - Oracle Air',
                details: {
                    'Route': 'SFO → JFK',
                    'Departure': '2025-09-30 08:00 AM',
                    'Price': '$450.00',
                    'Status': 'Available'
                }
            }, 6000);
            addDBMessage({
                title: 'Flight 203 - Cloud Airlines',
                details: {
                    'Route': 'SFO → JFK',
                    'Departure': '2025-09-30 02:30 PM',
                    'Price': '$385.00',
                    'Status': 'Available'
                }
            }, 6500);
            
            addAgentMessage('✓ Retrieved 2 flights from Oracle Database 23ai', 7000);
            addAgentMessage('Agent analyzes: Flight 203 is cheaper and afternoon departure is preferred', 7500);
            addAgentMessage('Calling MCP tool: book_flight(flight_id=203, passenger="John Doe")', 8500);
            
            addDBMessage('INSERT INTO bookings (booking_id, flight_id, passenger_name, booking_date) VALUES (5001, 203, \'John Doe\', SYSTIMESTAMP)', 9000);
            addDBMessage('COMMIT;', 9500);
            
            addAgentMessage('✅ Booking confirmed! Flight 203 booked for John Doe', 10000);
            addAgentMessage('Booking ID: 5001 stored in Oracle Database 23ai', 10500);
            addAgentMessage('Task completed successfully via MCP + SQLcl + Oracle 23ai!', 11000);
        }

        function runA2ADemo() {
            document.getElementById('a2a-demo').style.display = 'block';
            document.getElementById('a2a-demo').scrollIntoView({ behavior: 'smooth' });
            
            const agentsContainer = document.getElementById('a2a-agents');
            agentsContainer.innerHTML = '';
            
            const agents = [
                { name: 'Flight Agent', capabilities: ['Search flights', 'Book tickets', 'Check availability'], db: 'Oracle 23ai' },
                { name: 'Hotel Agent', capabilities: ['Find hotels', 'Make reservations', 'Check reviews'], db: 'Oracle 23ai' },
                { name: 'Payment Agent', capabilities: ['Process payments', 'Verify cards', 'Generate receipts'], db: 'Oracle 23ai' }
            ];
            
            agents.forEach((agent, index) => {
                setTimeout(() => {
                    const box = document.createElement('div');
                    box.className = 'agent-box';
                    box.innerHTML = `
                        <h4>${agent.name}</h4>
                        <div style="font-size: 12px; color: #e6e7e8; margin-top: 10px;">
                            <strong>Capabilities via MCP:</strong><br>
                            ${agent.capabilities.map(c => `• ${c}`).join('<br>')}
                        </div>
                        <div style="margin-top: 10px; font-size: 11px; color: #b65226;">
                            ${agent.db}
                        </div>
                    `;
                    agentsContainer.appendChild(box);
                }, index * 500);
            });
            
            setTimeout(() => {
                agentsContainer.innerHTML += `
                    <div style="grid-column: 1 / -1; text-align: center; margin-top: 20px; padding: 20px; background: rgba(245,246,247,0.03); border-radius: 10px;">
                        <h4 style="color: #b65226; margin-bottom: 15px;">A2A Collaboration Flow</h4>
                        <div style="font-size: 14px; line-height: 1.8; color: #e6e7e8;">
                            <strong>1.</strong> User: "Book me a complete trip to NYC"<br>
                            <strong>2.</strong> Flight Agent discovers Hotel Agent via A2A protocol<br>
                            <strong>3.</strong> Flight Agent books flight in Oracle DB → passes details to Hotel Agent<br>
                            <strong>4.</strong> Hotel Agent finds hotel, discovers Payment Agent<br>
                            <strong>5.</strong> Payment Agent processes transaction → all data stored in Oracle 23ai<br>
                            <strong>6.</strong> Agents collaborate seamlessly without custom integration code!
                        </div>
                    </div>
                `;
            }, 2000);
        }

        function resetDemo() {
            document.getElementById('agent-log').innerHTML = '';
            document.getElementById('db-log').innerHTML = '';
            document.getElementById('a2a-demo').style.display = 'none';
        }

        document.querySelector('[data-step="1"] .action-button').disabled = false;
    </script>
</body>
</html>